<script setup>
import { ref } from 'vue'

const inCart = ref(false)
const count = ref(0)

const addToCart = () => {
  count.value++
  inCart.value = true
}
</script>
<template>
  <button class="btn" :class="{ active: inCart }" @click="addToCart">
    <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M22.0639 16.7755L20.852 6.2755C20.7319 5.26754 20.252 4.3315 19.496 3.65952C18.74 2.98753 17.756 2.61552 16.736 2.60352H8.26392C7.24394 2.61553 6.27195 2.98753 5.50393 3.65952C4.74793 4.33152 4.26796 5.26755 4.14793 6.2755L2.93599 16.7755C2.86392 17.3635 2.92398 17.9395 3.10393 18.5035C3.28395 19.0555 3.57194 19.5595 3.95595 20.0035C4.35198 20.4475 4.81992 20.7835 5.35993 21.0236C5.88793 21.2635 6.4639 21.3956 7.05196 21.3956H17.9479C18.536 21.3956 19.1119 21.2635 19.6399 21.0236C20.18 20.7835 20.6479 20.4475 21.0439 20.0035C21.4279 19.5595 21.7159 19.0555 21.896 18.5035C22.0759 17.9395 22.136 17.3635 22.0639 16.7755ZM20.4439 18.0356C20.324 18.3956 20.1439 18.7076 19.9039 18.9835C19.652 19.2595 19.352 19.4755 19.0159 19.6315C18.68 19.7875 18.3199 19.8595 17.9479 19.8595H7.05197C6.67998 19.8595 6.31992 19.7875 5.98396 19.6315C5.64793 19.4755 5.34793 19.2595 5.09597 18.9835C4.85596 18.7076 4.67593 18.3956 4.55596 18.0356C4.44793 17.6875 4.41196 17.3155 4.45994 16.9555L5.67195 6.45554C5.74395 5.80756 6.04395 5.23152 6.52397 4.79954C7.00393 4.37956 7.61594 4.13955 8.26392 4.13955H16.736C17.384 4.13955 17.996 4.37956 18.4759 4.79954C18.956 5.23153 19.2559 5.80758 19.3279 6.45554L20.54 16.9555C20.5879 17.3155 20.552 17.6875 20.4439 18.0356Z"
        fill="white" />
      <path
        d="M16.6394 7.87123V8.25525C16.6394 9.35922 16.2074 10.3912 15.4274 11.1712C14.6474 11.9632 13.6034 12.3832 12.4994 12.3832C11.3954 12.3832 10.3514 11.9632 9.57139 11.1712C8.79136 10.3912 8.35938 9.35922 8.35938 8.25525V7.87123C8.35938 7.66726 8.44339 7.47521 8.58738 7.33122C8.73136 7.18723 8.92341 7.11523 9.12739 7.11523C9.33136 7.11523 9.52341 7.18723 9.6674 7.33122C9.81139 7.47521 9.8954 7.66726 9.8954 7.87123V8.25525C9.8954 8.95127 10.1594 9.59925 10.6514 10.0912C11.1434 10.5832 11.8034 10.8592 12.4994 10.8592C13.1954 10.8592 13.8554 10.5832 14.3474 10.0912C14.8394 9.59925 15.1154 8.95127 15.1154 8.25525V7.87123C15.1154 7.66726 15.1874 7.47521 15.3314 7.33122C15.4753 7.18723 15.6674 7.11523 15.8714 7.11523C16.0753 7.11523 16.2674 7.18723 16.4114 7.33122C16.5554 7.47521 16.6394 7.66726 16.6394 7.87123Z"
        fill="white" />
    </svg>

    <div class="btn-text">{{ inCart ? 'В корзине' : 'В корзину' }}</div>
    <div class="btn-number" v-if="inCart">{{ count }}</div>
  </button>
</template>
<style lang="sass" scoped>
.btn 
  display: flex
  justify-content: center
  align-items: center
  gap: 6px
  height: 38px
  position: relative
  background: var(--color-blue)
  max-width: 192px
  width: 100%
  border-radius: 100px
  transition: .3s all
  overflow: hidden
  svg 
    width: 22px
    height: auto
  &-number 
    width: 16px
    height: 100%
    position: absolute
    top: 0
    right: 0
    z-index: 2
    display: flex
    align-items: center
    justify-content: center
    color: #fff
    font-size: 9px
    font-weight: 500
    background: var(--color-blue)
  &.active 
    background: #D5DEF3
    &:hover 
      background: #D5DEF3
      .btn-text 
        color: var(--color-blue)
    svg 
      display: none
    .btn-text 
      color: var(--color-blue)
  &-text 
    font-size: 14px
    color: #fff
  &:hover 
    background: #0073DD
  &:disabled
    background: #DDDDDD

</style>